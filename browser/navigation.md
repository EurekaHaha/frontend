# chrome navigation

1. 处理输入  
* 当用户在地址栏输入的时候，浏览器进程(browser process)中的UI线程首先需要解析决定把输入的东西传到搜索引擎中还是去到需要去的网站。
2. 启动导航
* 当用户触发回车事件的时候，UI线程告诉网络线程启动网络调用以获取网站内容
3. 读取响应
* 当响应体开始开始读取，网络线程判断是否为详情的content-type是否为html，如果是，将这些数据传递给渲染进程(render process).如果是其他文件类型，则将这些数据传递给下载管理器。
* 安全浏览检查也发生在这个时间，如果域名和返回的数据在恶意网站列表中匹配到，则会显示一个警告页面。
* 并且，跨域检查(Cross Origin Read Blocking (CORB))后才会把数据交给渲染进程(render process)
3. 找到一个渲染进程
* 当发起网络请求的时候，且已经知道将要导航到某个网站的时候，UI线程开始寻找一个渲染进程(render process)，这个操作与网络请求并行。当数据到达网络线程的时候，渲染进程已经处于准备好的状态。
    * 这个操作依赖于导航不会重定向到跨站。
4. 提交导航
* 这时数据和渲染进程都已经准备好了，浏览器进程(browser process)使用IPC将数据传输到渲染进程(render process)。一旦浏览器进程(browser process)知道渲染器进程(render process)已经确认接收到数据，将文档加载阶段。
* 渲染器进程的主线程会持续接收浏览器进程的网络线程传输过来的数据流。
* 地址栏更新，更新前进/后退键将导航至之前的站点。且会话历史将存储在磁盘上。
5. 额外步骤-初始化加载完成
* 